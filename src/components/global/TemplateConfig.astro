---
const { title, enderTitle, typeMotor, typeMotor1, description, price, images, pieces, logo, alt} = Astro.props;
import { ChevronDown, ChevronLeft, ChevronRight } from 'lucide-astro';
---

<div class="bg-white rounded-3xl w-9/12 flex justify-center py-6 flex-col mt-96 lg:mt-60 lg:mb-60 mb-28 items-center lg:flex-row">
    <div class="flex items-center w-full lg:w-6/12 justify-between">
        <div class="relative h-40 w-full lg:h-96 lg:w-4/5">
            {images.map((imageSrc, index) => (
                <span id={`item-${index + 1}`}></span>
            ))}

            {images.map((imageSrc, index) => (
                <div class={`carousel-item item-${index + 1} flex justify-center items-center absolute top-0 bottom-0 left-0 right-0 opacity-0`}>
                    <a href={`#item-${(index === 0 ? images.length : index)}`} class="z-30" rel="noopener noreferrer">
                        <ChevronLeft class="w-10 h-10 cursor-pointer" />
                    </a>
                    <div class="lg:w-3/5 flex items-center justify-center">
                        <div class="cards rounded-full flex items-center justify-center fond-cyl">
                            <div class="lg:w-screen">
                                <img class="-ml-8 lg:-ml-16" src={imageSrc} alt={alt}/>
                            </div>
                        </div>
                    </div>
                    <a href={`#item-${(index + 1 === images.length ? 1 : index + 2)}`} class="z-30" rel="noopener noreferrer">
                        <ChevronRight class="w-10 h-10 cursor-pointer" />
                    </a>
                </div>
            ))}
        </div>
    </div>
    <div class="p-4 lg:ml-10 lg:w-1/3">
        <div class="flex justify-between items-center mb-4">
            <p class="font-bold text-4xl">{title}</p>
            <img src={logo} alt="marque" class="w-20">
        </div> 
        <div class="w-full flex justify-between mt-2 items-center">
            <p class="text-gray-400 w-28 md:w-full">{enderTitle}</p>
            <div class="flex gap-2 items-center">
                <img src="/images/motor.svg" alt="moteur">
                <div class="flex flex-col lg:flex-row gap-2">
                    <p class="px-3 bg-orange-500 rounded-3xl items-center flex justify-center text-white">{typeMotor}</p>
                    {typeMotor1 && (
                        <p class="px-3 border-orange-500 rounded-3xl border-2 items-center flex justify-center text-orange-500">{typeMotor1}</p>
                    )}
                </div>
            </div>
        </div>
        <p class="mt-2">{description}</p>
        <div class="flex items-center gap-4 mt-4">
            <p class="text-gray-400">Coût total :</p>
            <p class="font-bold text-4xl">{price}€</p>
        </div>
        <div class="w-full flex justify-center">
            <details class="mt-4">
                <summary class="rounded-full bg-amber-600 w-fit p-2 px-8 text-white flex gap-4 text-xl lg:hover:bg-slate-900 items-center list-none">
                    Voir le détail de la configuration
                    <ChevronDown class="cheSum w-8 transition-transform duration-300" />
                </summary>
                <div class="contents">
                    <div class="bg-slate-200 mt-2 w-full h-1 rounded-3xl"></div>
                    {pieces.map((piece: string, index: number) => (
                        <p key={index} class="mt-1">{piece}€</p>
                    ))}
                </div>
            </details>
        </div>
    </div>
</div>
