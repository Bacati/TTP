---
interface TemplateConfigProps {
  title: string;
  enderTitle: string;
  description: string;
  price: string;
  imageSrcs: string[];
  pieces: string[];
}

const { title, enderTitle, description, price, imageSrcs, pieces } = Astro.props as TemplateConfigProps;
import { ChevronDown, ChevronLeft, ChevronRight } from 'lucide-astro';
---

<div class="bg-white rounded-3xl w-9/12 flex justify-center py-6 flex-col mt-96 lg:mt-60 lg:mb-60 mb-28 items-center lg:flex-row">
    <div class="flex items-center w-full lg:w-5/12 justify-center">
        <div class="relative h-96 w-5/6">
            {imageSrcs.map((src: string, index: number) => (
                <div
                    id={`item-${index + 1}`}
                    class={`carousel-item item-${index + 1} flex justify-center items-center h-fit top-0 bottom-0 right-0 left-0 absolute`}
                    key={index}
                >
                    <a href={`#item-${index === 0 ? imageSrcs.length : index}`} class="z-30">
                        <ChevronLeft class="w-20 h-20" />
                    </a>
                    <div class="lg:w-3/5 flex items-center justify-center">
                        <div class="cards rounded-full flex items-center justify-center fondCyl">
                            <div class="lg:w-screen">
                                <img class="-ml-8 lg:-ml-16" src={src} alt={`image-${index + 1}`} />
                            </div>
                        </div>
                    </div>
                    <a href={`#item-${index === imageSrcs.length - 1 ? 1 : index + 2}`} class="z-30">
                        <ChevronRight class="w-20 h-20" />
                    </a>
                </div>
            ))}
        </div>
    </div>
    <div class="p-4 lg:ml-10 lg:w-1/3">
        <p class="font-bold text-4xl">{title}</p>
        <p class="text-gray-400">{enderTitle}</p>
        <p>{description}</p>
        <div class="flex items-center gap-4 mt-4">
            <p class="text-gray-400">Coût total :</p>
            <p class="font-bold text-4xl">{price}€</p>
        </div>
        <div class="w-full flex justify-center">
            <details class="mt-4">
                <summary class="rounded-full bg-amber-600 w-fit p-2 px-8 text-white flex gap-4 text-xl lg:hover:bg-slate-900 items-center">
                    Voir le détail de la configuration
                    <ChevronDown class="cheSum w-8" />
                </summary>
                <div class="contents">
                    <div class="bg-slate-200 mt-2 w-full h-1 rounded-3xl"></div>
                    {pieces.map((piece: string, index: number) => (
                        <p key={index}>{piece}</p>
                    ))}
                </div>
            </details>
        </div>
    </div>
</div>
