---
const { title, enderTitle, description, price, images, pieces } = Astro.props;
import { ChevronDown, ChevronLeft, ChevronRight } from 'lucide-astro';
---

<div class="bg-white rounded-3xl w-9/12 flex justify-center py-6 flex-col mt-96 lg:mt-60 lg:mb-60 mb-28 items-center lg:flex-row">
    <div class="flex items-center w-full lg:w-6/12 justify-between">
        <div class="relative h-40 w-full lg:h-96 lg:w-4/5">
            {images.map((imageSrc, index) => (
                <span id={`item-${index + 1}`}></span>
            ))}

            {images.map((imageSrc, index) => (
                <div class={`carousel-item item-${index + 1} flex justify-center items-center absolute top-0 bottom-0 left-0 right-0 opacity-0`}>
                    <a href={`#item-${(index === 0 ? images.length : index)}`} class="z-30">
                        <ChevronLeft class="w-20 h-20 cursor-pointer" />
                    </a>
                    <div class="lg:w-3/5 flex items-center justify-center">
                        <div class="cards rounded-full flex items-center justify-center fondCyl">
                            <div class="lg:w-screen">
                                <img class="-ml-8 lg:-ml-16" src={imageSrc} loading="lazy"/>
                            </div>
                        </div>
                    </div>
                    <a href={`#item-${(index + 1 === images.length ? 1 : index + 2)}`} class="z-30">
                        <ChevronRight class="w-20 h-20 cursor-pointer" />
                    </a>
                </div>
            ))}
        </div>
    </div>
    <div class="p-4 lg:ml-10 lg:w-1/3">
        <p class="font-bold text-4xl">{title}</p>
        <p class="text-gray-400">{enderTitle}</p>
        <p>{description}</p>
        <div class="flex items-center gap-4 mt-4">
            <p class="text-gray-400">Coût total :</p>
            <p class="font-bold text-4xl">{price}€</p>
        </div>
        <div class="w-full flex justify-center">
            <details class="mt-4">
                <summary class="rounded-full bg-amber-600 w-fit p-2 px-8 text-white flex gap-4 text-xl lg:hover:bg-slate-900 items-center">
                    Voir le détail de la configuration
                    <ChevronDown class="cheSum w-8" />
                </summary>
                <div class="contents">
                    <div class="bg-slate-200 mt-2 w-full h-1 rounded-3xl"></div>
                    {pieces.map((piece: string, index: number) => (
                        <p key={index}>{piece}€</p>
                    ))}
                </div>
            </details>
        </div>
    </div>
</div>
